{"version":3,"sources":["reducers/index.js","reducers/group.js","reducers/id.js","reducers/currentWeek.js","screens/LoadingScreen.js","screens/TimeTable.js","ErrorBoundary.js","config.js","data/faculties.js","data/courses.js","data/type.js","screens/SelectGroup.js","App.js","index.js"],"names":["combineReducers","group","state","action","type","payload","id","currentWeek","LoadingScreen","style","background","height","display","alignItems","justifyContent","flexDirection","marginBottom","xmlns","width","fill","viewBox","d","marginTop","color","size","fontSize","this","props","text","Component","OSNAME","platform","TimeTable","sortByDay","arr","days","i","length","j","indexOf","swap","beautify","substr","trimLeft","getWeekNum","dataSet","dayList","push","day","data","weeks","dataArr","split","startWeekData","endWeekData","currentWeekData","parseInt","dates","week","getTimeTable","index","fetch","store","then","response","html","cells","DOMParser","parseFromString","getElementsByClassName","oneDay","children","innerText","childNodes","subjects","dataObj","subject","subjectObj","time","title","teacher","location","nodeValue","dayObj","setState","weekData","fetching","modalBack","setActiveModal","activeModal","dateReformat","date","finalDate","first","second","getSession","sessionDataSet","showMessage","activePanel","contextOpened","htmlDoc","list","weeksList","item","unshift","console","log","trim","modal","header","left","ANDROID","onClick","right","IOS","onClose","settlingHeight","map","name","a","key","paddingLeft","status","aside","marginLeft","opened","before","paddingTop","paddingBottom","paddingRight","chooseGroup","vertical","level","position","top","bottom","margin","onRefresh","isFetching","textAlign","fontWeight","padding","opacity","borderRadius","isShown","info","toString","reduxConnect","dispatch","chooseWeek","ErrorBoundary","hasError","error","React","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","faculties","courses","SelectGroup","openPopout","popout","actions","autoclose","modalHistory","splice","getGroupsList","groups","faculty","replace","curse","groupList","getElementsByTagName","elem","firebase","database","ref","child","set","placeholder","App","loading","connect","sendPromise","chooseId","initializeApp","once","snapshot","val","currentGroup","createStore","reducer","schemeAttribute","document","createAttribute","value","body","attributes","setNamedItem","send","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e86c48d5.chunk.js","sourcesContent":["import {combineReducers} from 'redux';\r\nimport group from './group'\r\nimport currentWeek from './currentWeek'\r\nimport id from './id'\r\n\r\nexport default combineReducers({\r\n    group,\r\n    id,\r\n    currentWeek,\r\n})","export default function group(state = \"\", action) {\r\n    if (action.type === 'selectGroup') {\r\n        return action.payload;\r\n    }\r\n    return state;\r\n}","export default function id(state = null, action) {\r\n    if (action.type === 'selectId') {\r\n        return action.payload;\r\n    }\r\n    return state;\r\n}","export default function currentWeek(state = null, action) {\r\n    if (action.type === 'chooseWeek') {\r\n        return action.payload;\r\n    }\r\n    return state;\r\n}","import React, {Component} from 'react';\r\nimport {Spinner, Div} from \"@vkontakte/vkui\";\r\n\r\nexport default class LoadingScreen extends Component {\r\n    render() {\r\n        return (\r\n            <div style={{\r\n                background: 'linear-gradient(110deg, #00AEFF, #029ef5)',\r\n                height: '100%',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'flex-end',\r\n                flexDirection: 'column'\r\n            }}>\r\n                <div style={{height: '60%', display: 'flex', alignItems: 'flex-end'}}>\r\n                    <svg\r\n                        style={{marginBottom: 20}}\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        width=\"152\"\r\n                        height=\"152\"\r\n                        fill=\"none\"\r\n                        viewBox=\"0 0 152 152\"\r\n                    >\r\n                        <path\r\n                            fill=\"#fff\"\r\n                            d=\"M4.15 28.476l5.847-6.15c3.424-3.424 9.19-2.236 9.19-2.236l17.111 2.341 8.667-8.48c4.566-4.484 8.69 2.377 6.896 4.74l-4.45 5.173 18.427 3.413 6.256-7.292c6.685-7.99 11.66-.792 8.643 3.448l-4.042 5.113 27.687 3.611C128.19 9.247 137.909-.256 144.173 5.39c6.304 5.682-4.848 17.008-26.535 39.347l3.937 28.527 5.801-4.834c3.424-2.854 9.504 1.724 3.227 7.676l-7.979 7.525 3.366 18.672 4.985-3.832c4.403-3.506 9.749 1.13 3.798 7.489l-7.921 7.979c-.326.245 2.586 16.378 2.586 16.378 1.793 7.908-2.668 10.798-2.668 10.798l-5.439 4.741-20.664-58.37c-1.713-5.136-6.052-10.714-13.303-10.052-3.832.408-13.512 6.942-14.816 8.492l-22.411 21.549c-.571.407 3.447 28.014 3.447 28.014 0 .815-7.105 10.134-7.105 10.134l-14.2-25.277-7.011 3.262 4.1-6.384L3.8 102.792l9.587-7.012c4.565 1.06 28.503 3.75 28.992 3.506 0 0 19.493-19.332 20.606-20.5 6.44-6.768 8.608-9.296 9.586-12.64.98-3.345-.689-8.247-10.798-14.455C47.831 43.131 4.15 28.476 4.15 28.476z\"\r\n                        >\r\n                        </path>\r\n                    </svg>\r\n                </div>\r\n                <div style={{height: '50%', display: 'flex', alignItems: 'flex-start'}}>\r\n                    <div style={{marginTop: 20, color: '#fff'}}>\r\n                        <Spinner size='medium' style={{color: '#fff'}}/>\r\n                        <Div style={{fontSize: 13}}>\r\n                            {this.props.text}\r\n                        </Div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {reduxConnect} from \"react-redux\";\r\nimport Icon16Dropdown from '@vkontakte/icons/dist/16/dropdown';\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport Icon28More from '@vkontakte/icons/dist/28/more';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport LoadingScreen from './LoadingScreen'\r\n\r\nimport {\r\n    Panel,\r\n    PanelHeader,\r\n    View,\r\n    PanelHeaderContent,\r\n    Div,\r\n    platform,\r\n    IOS,\r\n    Header,\r\n    ANDROID,\r\n    ModalRoot,\r\n    PullToRefresh,\r\n    ModalPage,\r\n    ModalPageHeader,\r\n    HeaderButton,\r\n    FormLayout,\r\n    FormLayoutGroup,\r\n    Radio,\r\n    Button,\r\n    Tooltip,\r\n    Cell,\r\n    List,\r\n    HeaderContext,\r\n    Spinner,\r\n    Footer,\r\n    FixedLayout\r\n} from \"@vkontakte/vkui\";\r\n\r\nconst OSNAME = platform();\r\n\r\nclass TimeTable extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activeModal: null,\r\n            dataSet: null,\r\n            sessionDataSet: [],\r\n            currentWeek: {\r\n                text: 'Текущая неделя',\r\n                index: 0\r\n            },\r\n            weeks: [],\r\n            weekData: [],\r\n            showMessage: false,\r\n            activePanel: 'main',\r\n            contextOpened: false,\r\n            fetching: false,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('https://cors-anywhere.herokuapp.com/https://mai.ru/education/schedule/detail.php?group=' + this.props.store.group)\r\n            .then((response) => response.text())\r\n            .then((html) => {\r\n                let parser = new DOMParser();\r\n                let htmlDoc = parser.parseFromString(html, 'text/html');\r\n                let cells = htmlDoc.getElementsByClassName('table');\r\n                let list = cells[0].children[0].children;\r\n                let weeksList = [];\r\n                for (let item of list) {\r\n                    weeksList.push(item.childNodes[1].innerText);\r\n                }\r\n                weeksList.unshift('Текущая неделя');\r\n                this.setState({weeks: weeksList});\r\n\r\n                let dataSet = [];\r\n                cells = htmlDoc.getElementsByClassName('sc-table-day');\r\n                console.log(cells)\r\n                for (let item of cells) {\r\n                    let oneDay = item.children[0].children;\r\n                    let day = oneDay[0].children[0].innerText;\r\n                    let data = oneDay[0].childNodes[0].data;\r\n                    let subjects = oneDay[1].children[0].children;\r\n                    let dataObj = [];\r\n                    for (let subject of subjects) {\r\n                        let subjectObj = {\r\n                            time: subject.children[0].innerText,\r\n                            type: subject.children[2].innerText,\r\n                            title: subject.children[3].children[0].children[0].innerText,\r\n                            teacher: (subject.children[3].children[0].children.length < 2) ? '' : this.beautify(subject.children[3].children[0].children[2].innerText),\r\n                            location: subject.children[4].innerText.trim()\r\n                        };\r\n                        dataObj.push(subjectObj);\r\n                    }\r\n                    let dayObj = {\r\n                        day: day,\r\n                        data: data,\r\n                        subjects: dataObj\r\n                    };\r\n                    dataSet.push(dayObj);\r\n                }\r\n                if (dataSet.length === 0) this.setState({dataSet: [null]});\r\n                else this.setState({dataSet: dataSet});\r\n            })\r\n            .then(() => {\r\n                this.setState({weekData: this.getWeekNum(), fetching: false});\r\n            })\r\n    }\r\n\r\n    sortByDay = (arr) => {\r\n        let days = ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'];\r\n        for (let i = 0; i < arr.length - 1; i++) {\r\n            for (let j = i; j < arr.length; j++) {\r\n                if (days.indexOf(arr[i]) > days.indexOf(arr[j])) {\r\n                    let swap = arr[j];\r\n                    arr[j] = arr[i];\r\n                    arr[i] = swap;\r\n                }\r\n            }\r\n        }\r\n        return arr;\r\n    };\r\n\r\n    beautify = (text) => {\r\n        if (text[0] === ',') {\r\n            return text.substr(1, text.length).trimLeft();\r\n        } else {\r\n            return text;\r\n        }\r\n    };\r\n\r\n    getWeekNum = () => {\r\n        if (this.state.dataSet[0] === null || this.state.dataSet === null) return [null];\r\n        let i = 0;\r\n        let dayList = [];\r\n        while (i < this.state.dataSet.length) {\r\n            dayList.push(this.state.dataSet[i].day);\r\n            i++;\r\n        }\r\n        dayList = this.sortByDay(dayList);\r\n        if (dayList.length > 0) {\r\n            let data = null;\r\n            i = 0;\r\n            while (i < this.state.dataSet.length) {\r\n                if (this.state.dataSet[i].day === dayList[0]) {\r\n                    data = this.state.dataSet[i].data;\r\n                }\r\n                i++;\r\n            }\r\n            if (data !== null) {\r\n                i = 1;\r\n                while (i < this.state.weeks.length) {\r\n                    let dataArr = this.state.weeks[i].split(\" - \");\r\n                    let startWeekData = dataArr[0].split('.');\r\n                    let endWeekData = dataArr[1].split('.');\r\n                    let currentWeekData = data.split('.');\r\n                    if (startWeekData[1] === currentWeekData[1] && ((parseInt(startWeekData[0]) <= parseInt(currentWeekData[0]) && parseInt(currentWeekData[0]) <= parseInt(endWeekData[0])) || (parseInt(currentWeekData[1]) < parseInt(endWeekData[1])))) {\r\n                        return {\r\n                            day: dayList[0],\r\n                            text: 'Неделя ' + i,\r\n                            dates: this.state.weeks[i],\r\n                            week: i\r\n                        }\r\n                    }\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n        return [null];\r\n    };\r\n\r\n    getTimeTable = () => {\r\n        let week = (this.state.currentWeek.text === 'Текущая неделя') ? '' : '&week=' + this.state.currentWeek.index;\r\n        fetch('https://cors-anywhere.herokuapp.com/https://mai.ru/education/schedule/detail.php?group=' + this.props.store.group + week)\r\n            .then((response) => response.text())\r\n            .then((html) => {\r\n                let parser = new DOMParser();\r\n                let htmlDoc = parser.parseFromString(html, 'text/html');\r\n                let cells = htmlDoc.getElementsByClassName('sc-table-day');\r\n                let dataSet = [];\r\n                for (let item of cells) {\r\n                    let oneDay = item.children[0].children;\r\n                    let day = oneDay[0].children[0].innerText;\r\n                    let data = oneDay[0].childNodes[0].data;\r\n                    let subjects = oneDay[1].children[0].children;\r\n                    let dataObj = [];\r\n                    for (let subject of subjects) {\r\n                        let subjectObj = {\r\n                            time: subject.children[0].innerText,\r\n                            type: subject.children[2].innerText,\r\n                            title: subject.children[3].children[0].children[0].innerText,\r\n                            teacher: (subject.children[3].children[0].children.length < 2) ? '' : this.beautify(subject.children[3].children[0].children[2].innerText),\r\n                            location: (subject.children[4].childNodes.length > 1) ? subject.children[4].childNodes[1].nodeValue : '--каф.'\r\n                        };\r\n                        dataObj.push(subjectObj);\r\n                    }\r\n                    let dayObj = {\r\n                        day: day,\r\n                        data: data,\r\n                        subjects: dataObj\r\n                    };\r\n                    dataSet.push(dayObj);\r\n                }\r\n                return dataSet;\r\n            })\r\n            .then(data => {\r\n                if (data.length === 0) this.setState({dataSet: [null]});\r\n                else this.setState({dataSet: data});\r\n            })\r\n            .then(() => {\r\n                this.setState({weekData: this.getWeekNum(), fetching: false});\r\n            })\r\n    };\r\n\r\n    modalBack = () => {\r\n        this.setActiveModal(null);\r\n    };\r\n\r\n    setActiveModal = (activeModal) => {\r\n        activeModal = activeModal || null;\r\n        this.setState({\r\n            activeModal,\r\n        });\r\n    };\r\n\r\n    dateReformat = (date) => {\r\n        let finalDate = '';\r\n        let arr = date.split(\" - \");\r\n        let first = arr[0].split(\".\");\r\n        let second = arr[1].split(\".\");\r\n        finalDate += first[0] + '.' + first[1] + '.' + first[2].substr(-2) + \" - \" + second[0] + '.' + second[1] + '.' + second[2].substr(-2);\r\n        return finalDate;\r\n    };\r\n\r\n    getSession = () => {\r\n        fetch('https://cors-anywhere.herokuapp.com/https://mai.ru/education/schedule/session.php?group=' + this.props.store.group)\r\n            .then((response) => response.text())\r\n            .then((html) => {\r\n                let parser = new DOMParser();\r\n                let htmlDoc = parser.parseFromString(html, 'text/html');\r\n                let cells = htmlDoc.getElementsByClassName('sc-table-day');\r\n                let dataSet = [];\r\n                for (let item of cells) {\r\n                    let oneDay = item.children[0].children;\r\n                    let day = oneDay[0].children[0].innerText;\r\n                    let data = oneDay[0].childNodes[0].data;\r\n                    let subjects = oneDay[1].children[0].children;\r\n                    let dataObj = [];\r\n                    for (let subject of subjects) {\r\n                        let subjectObj = {\r\n                            time: subject.children[0].innerText,\r\n                            type: subject.children[2].innerText,\r\n                            title: subject.children[3].children[0].children[0].innerText,\r\n                            teacher: (subject.children[3].children[0].children.length < 2) ? '' : subject.children[3].children[0].children[2].innerText,\r\n                            location: (subject.children[4].childNodes.length > 1) ? subject.children[4].childNodes[1].nodeValue : '--каф.'\r\n                        };\r\n                        dataObj.push(subjectObj);\r\n                    }\r\n                    let dayObj = {\r\n                        day: day,\r\n                        data: data,\r\n                        subjects: dataObj\r\n                    };\r\n                    dataSet.push(dayObj);\r\n                }\r\n                return dataSet;\r\n            })\r\n            .then(data => {\r\n                if (data.length === 0) this.setState({sessionDataSet: [null]});\r\n                else this.setState({sessionDataSet: data});\r\n            })\r\n            .then(() => {\r\n                this.setState({fetching: false})\r\n            })\r\n    };\r\n\r\n    render() {\r\n        const modal = (\r\n            <ModalRoot activeModal={this.state.activeModal}>\r\n                <ModalPage\r\n                    id=\"weeks\"\r\n                    header={\r\n                        <ModalPageHeader\r\n                            left={OSNAME === ANDROID &&\r\n                            <HeaderButton onClick={this.modalBack}><Icon24Cancel/></HeaderButton>}\r\n                            right={OSNAME === IOS &&\r\n                            <HeaderButton onClick={this.modalBack}><Icon24Dismiss/></HeaderButton>}\r\n                        >\r\n                            Выберите неделю\r\n                        </ModalPageHeader>\r\n                    }\r\n                    onClose={this.modalBack}\r\n                    settlingHeight={80}\r\n                >\r\n                    <FormLayout>\r\n                        <FormLayoutGroup>\r\n                            {this.state.weeks.map((text, index) => {\r\n                                return (\r\n                                    <Radio name=\"radio\" onClick={async () => {\r\n                                        if (this.state.currentWeek.text !== text) {\r\n                                            await this.setState({currentWeek: {text, index}});\r\n                                            await this.setState({dataSet: [null], weekData: []});\r\n                                            this.getTimeTable();\r\n                                        }\r\n                                        this.modalBack();\r\n                                    }} key={text}>{\r\n                                        (index !== 0)\r\n                                            ? this.dateReformat(text) + ' (Неделя ' + index + ')'\r\n                                            : text}\r\n                                    </Radio>\r\n                                );\r\n                            })}\r\n                        </FormLayoutGroup>\r\n                    </FormLayout>\r\n                </ModalPage>\r\n            </ModalRoot>\r\n        );\r\n\r\n        if (this.state.dataSet === null) {\r\n            return <LoadingScreen text='Загрузка расписания...'/>\r\n        } else {\r\n            return (\r\n                <View id='main' activePanel={this.state.activePanel} modal={modal}>\r\n                    <Panel id='main'>\r\n                        <PanelHeader left={<HeaderButton\r\n                            onClick={() => this.setState({contextOpened: !this.state.contextOpened})}\r\n                        ><Icon28More style={OSNAME === IOS ? {paddingLeft: 12, color: '#323232'} : {color: '#323232'}}/></HeaderButton>}>\r\n                            <PanelHeaderContent\r\n                                status={this.state.currentWeek.text === 'Текущая неделя' ? 'Текущая неделя' : 'Неделя ' + this.state.currentWeek.index}\r\n                                aside={<Icon16Dropdown style={{marginLeft: 1}}/>}\r\n                                onClick={() => this.setActiveModal('weeks')}\r\n                            >\r\n                                {this.props.store.group}\r\n                            </PanelHeaderContent>\r\n                        </PanelHeader>\r\n                        <HeaderContext opened={this.state.contextOpened}\r\n                                       onClose={() => this.setState({contextOpened: !this.state.contextOpened})}>\r\n                            <List>\r\n                                <Cell\r\n                                    before={\r\n                                        <div style={{paddingTop: 12, paddingBottom: 10, paddingRight: 16}}>\r\n                                            <svg\r\n                                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                width=\"24\"\r\n                                                height=\"24\"\r\n                                            >\r\n                                                <path\r\n                                                    fill=\"#bfbfbf\"\r\n                                                    d=\"M0 1.866h4.313v2.156H0V1.866zm0 3.019h4.313v14.663H0V4.885zm.79 11.95a1.348 1.348 0 102.696 0 1.348 1.348 0 00-2.695 0zm-.79 5.3h4.313V20.41H0v1.725zm5.175-2.026v2.027h5.606v-2.038c-.229-.164-.94-.55-2.587-.55-1.562 0-2.56.35-3.019.56zm0-12.406c.46.21 1.457.56 3.019.56 1.637 0 2.35-.381 2.587-.553V6.18H5.175v1.524zm0 .933v10.539c.624-.234 1.624-.49 3.019-.49 1.258 0 2.074.211 2.587.436V8.691c-.513.224-1.33.435-2.587.435-1.395 0-2.395-.256-3.019-.49zM19.926 1.77l-2.957.607.434 2.112 2.957-.606-.434-2.113zm3.554 17.322l-2.957.607-2.948-14.365 2.957-.606L23.48 19.09zm-1.026-2.56c-.15-.73-.733-1.225-1.3-1.109-.569.117-.91.803-.759 1.532.15.728.732 1.225 1.3 1.108.569-.117.909-.802.759-1.532zm1.2 3.403l-2.958.608.347 1.689L24 21.624l-.347-1.69zM12.074 4.022h4.313V1.866h-4.313v2.156zm0 18.113h4.313V20.41h-4.313v1.725zm0-4.744h4.313V7.042h-4.313v10.35zm0 2.157h4.313v-1.294h-4.313v1.294zm0-13.37h4.313V4.886h-4.313v1.294z\"\r\n                                                >\r\n                                                </path>\r\n                                            </svg>\r\n                                        </div>\r\n                                    }\r\n                                    onClick={() => {\r\n                                        this.setState({contextOpened: !this.state.contextOpened});\r\n                                        this.setState({activePanel: 'session'});\r\n                                        if (this.state.sessionDataSet.length === 0) {\r\n                                            this.getSession();\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    Расписание сессии\r\n                                </Cell>\r\n                                <Cell\r\n                                    before={\r\n                                        <div style={{\r\n                                            paddingTop: 12,\r\n                                            paddingBottom: 10,\r\n                                            paddingRight: 15,\r\n                                            paddingLeft: 1\r\n                                        }}>\r\n                                            <svg\r\n                                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                width=\"22\"\r\n                                                height=\"22\"\r\n                                            >\r\n                                                <g fill=\"#cccccc\">\r\n                                                    <path\r\n                                                        d=\"M21.93 9.733a.929.929 0 00-.199-.299l-2.749-2.749a.917.917 0 00-1.296 1.296l1.185 1.185h-5.12a.916.916 0 100 1.834h5.12l-1.185 1.185a.916.916 0 101.296 1.296l2.75-2.749a.918.918 0 00.199-1z\"/>\r\n                                                    <path\r\n                                                        d=\"M15.585 12.833a.916.916 0 00-.916.917v4.583h-3.667V3.667a.918.918 0 00-.654-.878l-3.183-.956h7.504v4.584a.916.916 0 101.833 0v-5.5A.916.916 0 0015.585 0H.92C.886 0 .856.014.824.017a.919.919 0 00-.388.136C.416.166.39.167.37.181.364.187.361.197.354.203a.908.908 0 00-.244.29C.097.516.094.542.084.568.055.64.023.707.012.784.007.81.016.837.015.864.014.882.002.898.002.917V19.25c0 .437.309.813.737.898l9.167 1.834a.916.916 0 001.096-.898v-.917h4.583c.507 0 .917-.411.917-.917v-5.5a.916.916 0 00-.917-.917z\"/>\r\n                                                </g>\r\n                                                <defs>\r\n                                                    <clipPath id=\"clip0\">\r\n                                                        <path fill=\"#cccccc\" d=\"M0 0H22V22H0z\"/>\r\n                                                    </clipPath>\r\n                                                </defs>\r\n                                            </svg>\r\n                                        </div>\r\n                                    }\r\n                                    onClick={() => {\r\n                                        this.setState({contextOpened: !this.state.contextOpened});\r\n                                        this.props.chooseGroup(\"\");\r\n                                    }}\r\n                                >\r\n                                    Сменить группу\r\n                                </Cell>\r\n                            </List>\r\n                        </HeaderContext>\r\n                        {this.state.dataSet[0] === null\r\n                            ?\r\n                            <div>\r\n                                {this.state.weekData[0] === null\r\n                                    ? <div>\r\n                                        <Footer style={{fontSize: 16}}>Нет данных</Footer>\r\n                                        <FixedLayout vertical=\"bottom\">\r\n                                            <Div>\r\n                                                <Button style={{\r\n                                                    background: 'linear-gradient(110deg, #00AEFF, #029ef5)',\r\n                                                    color: '#fff'\r\n                                                }}\r\n                                                        size=\"xl\" level=\"secondary\"\r\n                                                        onClick={async () => {\r\n                                                            await this.setState({\r\n                                                                currentWeek: {\r\n                                                                    text: 'Текущая неделя',\r\n                                                                    index: 0\r\n                                                                }\r\n                                                            });\r\n                                                            this.getTimeTable();\r\n                                                        }}>\r\n                                                    Вернуться к текущей неделе\r\n                                                </Button>\r\n                                            </Div>\r\n                                        </FixedLayout>\r\n                                    </div>\r\n\r\n                                    : <Spinner size='medium' style={{\r\n                                        position: 'absolute',\r\n                                        top: 0,\r\n                                        bottom: 0,\r\n                                        left: 0,\r\n                                        right: 0,\r\n                                        margin: 'auto'\r\n                                    }}/>\r\n                                }\r\n                            </div>\r\n                            :\r\n                            <PullToRefresh onRefresh={() => {this.setState({fetching: true}); this.getTimeTable()}} isFetching={this.state.fetching}>\r\n                                {this.state.dataSet.map((item, index) => {\r\n                                    if (item.day === this.state.weekData.day && index !== 0) return (\r\n                                        <Div key={index}\r\n                                             style={(index !== 0) ? {paddingTop: 0, paddingBottom: 14} : {\r\n                                                 paddingTop: 14,\r\n                                                 paddingBottom: 14,\r\n                                             }}>\r\n                                            <Div style={{\r\n                                                textAlign: 'center',\r\n                                                fontSize: 16,\r\n                                                paddingBottom: 5,\r\n                                                paddingTop: 3,\r\n                                                fontWeight: 600\r\n                                            }}>{this.state.weekData.text}</Div>\r\n                                            <Div style={{\r\n                                                textAlign: 'center',\r\n                                                marginBottom: 17,\r\n                                                padding: 0,\r\n                                                fontSize: 14,\r\n                                                opacity: 0.4\r\n                                            }}>{'(' + this.state.weekData.dates + ')'}</Div>\r\n                                            <Div style={{padding: 0, borderRadius: 25}}>\r\n                                                <Header level=\"secondary\" style={{\r\n                                                    background: '#00a1f5',\r\n                                                    color: '#fff',\r\n                                                    height: 'auto',\r\n                                                    paddingRight: 20,\r\n                                                    paddingLeft: 20,\r\n                                                }} aside={<h3\r\n                                                    style={{margin: 0, color: '#fff'}}>{item.day}</h3>}>\r\n                                                    <h3 style={{margin: 0, color: '#fff'}}>{item.data}</h3>\r\n                                                </Header>\r\n                                            </Div>\r\n                                            {item.subjects.map((subject, index) => {\r\n                                                return (\r\n                                                    <Div key={index} style={(index === 0) ? {\r\n                                                        background: '#fff',\r\n                                                        paddingLeft: 20,\r\n                                                        paddingRight: 20,\r\n                                                        paddingTop: 20,\r\n                                                        paddingBottom: 0\r\n                                                    } : {\r\n                                                        background: '#fff',\r\n                                                        paddingLeft: 20,\r\n                                                        paddingRight: 20,\r\n                                                        paddingTop: 0,\r\n                                                        paddingBottom: 0\r\n                                                    }}>\r\n                                                        {(index !== 0) ? <div style={{\r\n                                                            marginBottom: 20,\r\n                                                            height: '1px',\r\n                                                            background: '#dcdcdc'\r\n                                                        }}/> : null}\r\n                                                        <Div style={{\r\n                                                            alignItems: 'center',\r\n                                                            justifyContent: 'space-between',\r\n                                                            display: 'flex',\r\n                                                            padding: 0\r\n                                                        }}>\r\n                                                            <Div style={{\r\n                                                                fontSize: 19,\r\n                                                                color: '#323232',\r\n                                                                fontWeight: 700,\r\n                                                                padding: 0\r\n                                                            }}>\r\n                                                                {subject.time}\r\n                                                            </Div>\r\n                                                            <p style={{\r\n                                                                fontSize: 15,\r\n                                                                color: '#323232',\r\n                                                                margin: 0,\r\n                                                                fontWeight: 500\r\n                                                            }}>\r\n                                                                {subject.type}\r\n                                                            </p>\r\n                                                        </Div>\r\n                                                        <Div style={{\r\n                                                            fontSize: 18,\r\n                                                            color: '#323232',\r\n                                                            fontWeight: 600,\r\n                                                            paddingLeft: 0,\r\n                                                            paddingRight: 0,\r\n                                                            paddingBottom: 0,\r\n                                                            paddingTop: 10\r\n                                                        }}>\r\n                                                            {subject.title}\r\n                                                        </Div>\r\n                                                        {(subject.teacher !== '') ?\r\n                                                            <Div style={{\r\n                                                                fontSize: 13,\r\n                                                                color: '#323232',\r\n                                                                paddingLeft: 0,\r\n                                                                paddingRight: 0,\r\n                                                                paddingBottom: 0,\r\n                                                                paddingTop: 10\r\n                                                            }}>\r\n                                                                {subject.teacher}\r\n                                                            </Div>\r\n                                                            :\r\n                                                            null\r\n                                                        }\r\n                                                        <Div style={{\r\n                                                            fontSize: 14,\r\n                                                            color: '#323232',\r\n                                                            fontWeight: 600,\r\n                                                            paddingLeft: 0,\r\n                                                            paddingRight: 0,\r\n                                                            paddingBottom: 20,\r\n                                                            paddingTop: 10\r\n                                                        }}>\r\n                                                            {subject.location}\r\n                                                        </Div>\r\n                                                    </Div>\r\n                                                )\r\n                                            })}\r\n                                        </Div>\r\n                                    );\r\n                                    return (\r\n                                        <Div key={index}\r\n                                             style={(index !== 0) ? {paddingTop: 0, paddingBottom: 14} : {\r\n                                                 paddingTop: 14,\r\n                                                 paddingBottom: 14\r\n                                             }}>\r\n                                            <Div style={{padding: 0}}>\r\n                                                <Header level=\"secondary\" style={{\r\n                                                    background: 'linear-gradient(110deg, #00AEFF, #029ef5)',\r\n                                                    color: '#fff',\r\n                                                    height: 'auto',\r\n                                                    paddingRight: 20,\r\n                                                    paddingLeft: 20\r\n                                                }} aside={<h3\r\n                                                    style={{margin: 0, color: '#fff'}}>{item.day}</h3>}>\r\n                                                    <h3 style={{margin: 0, color: '#fff'}}>{item.data}</h3>\r\n                                                </Header>\r\n                                            </Div>\r\n                                            {item.subjects.map((subject, index) => {\r\n                                                return (\r\n                                                    <Div key={index} style={(index === 0) ? {\r\n                                                        background: '#fff',\r\n                                                        paddingLeft: 20,\r\n                                                        paddingRight: 20,\r\n                                                        paddingTop: 20,\r\n                                                        paddingBottom: 0\r\n                                                    } : {\r\n                                                        background: '#fff',\r\n                                                        paddingLeft: 20,\r\n                                                        paddingRight: 20,\r\n                                                        paddingTop: 0,\r\n                                                        paddingBottom: 0\r\n                                                    }}>\r\n                                                        {(index !== 0) ? <div style={{\r\n                                                            marginBottom: 20,\r\n                                                            height: '1px',\r\n                                                            background: '#dcdcdc'\r\n                                                        }}/> : null}\r\n                                                        <Div style={{\r\n                                                            alignItems: 'center',\r\n                                                            justifyContent: 'space-between',\r\n                                                            display: 'flex',\r\n                                                            padding: 0\r\n                                                        }}>\r\n                                                            <Div style={{\r\n                                                                fontSize: 19,\r\n                                                                color: '#323232',\r\n                                                                fontWeight: 700,\r\n                                                                padding: 0\r\n                                                            }}>\r\n                                                                {subject.time}\r\n                                                            </Div>\r\n                                                            <p style={{\r\n                                                                fontSize: 15,\r\n                                                                color: '#323232',\r\n                                                                margin: 0,\r\n                                                                fontWeight: 500\r\n                                                            }}>\r\n                                                                {subject.type}\r\n                                                            </p>\r\n                                                        </Div>\r\n                                                        <Div style={{\r\n                                                            fontSize: 18,\r\n                                                            color: '#323232',\r\n                                                            fontWeight: 600,\r\n                                                            paddingLeft: 0,\r\n                                                            paddingRight: 0,\r\n                                                            paddingBottom: 0,\r\n                                                            paddingTop: 10\r\n                                                        }}>\r\n                                                            {subject.title}\r\n                                                        </Div>\r\n                                                        {(subject.teacher !== '') ?\r\n                                                            <Div style={{\r\n                                                                fontSize: 13,\r\n                                                                color: '#323232',\r\n                                                                paddingLeft: 0,\r\n                                                                paddingRight: 0,\r\n                                                                paddingBottom: 0,\r\n                                                                paddingTop: 10\r\n                                                            }}>\r\n                                                                {subject.teacher}\r\n                                                            </Div>\r\n                                                            :\r\n                                                            null\r\n                                                        }\r\n                                                        <Div style={{\r\n                                                            fontSize: 14,\r\n                                                            color: '#323232',\r\n                                                            fontWeight: 600,\r\n                                                            paddingLeft: 0,\r\n                                                            paddingRight: 0,\r\n                                                            paddingBottom: 20,\r\n                                                            paddingTop: 10\r\n                                                        }}>\r\n                                                            {subject.location}\r\n                                                        </Div>\r\n                                                    </Div>\r\n                                                )\r\n                                            })}\r\n                                        </Div>\r\n                                    )\r\n                                })}\r\n                                <Div style={{paddingTop: 0}}>\r\n                                    <Tooltip text=\"Это последняя неделя\"\r\n                                             isShown={this.state.showMessage}\r\n                                             onClose={() => this.setState({showMessage: false})}\r\n                                             title=\"Поздравляем\"\r\n                                    >\r\n                                        <Button style={{\r\n                                            background: 'linear-gradient(110deg, #00AEFF, #029ef5)',\r\n                                            color: '#fff'\r\n                                        }} size=\"xl\" level=\"secondary\"\r\n                                                onClick={async () => {\r\n                                                    let info = await this.getWeekNum();\r\n                                                    console.log(info);\r\n                                                    if (info[0] !== null) {\r\n                                                        await this.setState({\r\n                                                            currentWeek: {\r\n                                                                text: toString(info.week + 1),\r\n                                                                index: info.week + 1\r\n                                                            }\r\n                                                        });\r\n                                                        await this.setState({dataSet: [null], weekData: []});\r\n                                                        this.getTimeTable();\r\n                                                    } else {\r\n                                                        this.setState({showMessage: true})\r\n                                                    }\r\n                                                }}>\r\n                                            Следующая неделя\r\n                                        </Button>\r\n                                    </Tooltip>\r\n                                </Div>\r\n                            </PullToRefresh>\r\n                        }\r\n\r\n                    </Panel>\r\n                    <Panel id='session'>\r\n                        <PanelHeader\r\n                            left={<HeaderButton onClick={() => this.setState({activePanel: 'main'})}><Icon28ChevronBack\r\n                                style={OSNAME === IOS ? {color: '#323232', paddingLeft: 12} : {color: '#323232'}}/></HeaderButton>}\r\n                        >\r\n                            <PanelHeaderContent\r\n                                status={this.props.store.group}\r\n                            >\r\n                                Расписание сессии\r\n                            </PanelHeaderContent>\r\n                        </PanelHeader>\r\n                        {this.state.sessionDataSet.length === 0\r\n                            ? <Spinner\r\n                                style={{position: 'absolute', top: 0, bottom: 0, left: 0, right: 0, margin: 'auto'}}\r\n                                size='medium'/>\r\n                            : <div>\r\n                                {this.state.sessionDataSet[0] === null\r\n                                    ? <Footer style={{fontSize: 16}}>Нет данных</Footer>\r\n                                    : <PullToRefresh onRefresh={() => {this.setState({fetching: true}); this.getSession()}} isFetching={this.state.fetching}>\r\n                                        {this.state.sessionDataSet.map((item, index) => {\r\n                                            return (\r\n                                                <Div key={index}\r\n                                                     style={(index !== 0) ? {paddingTop: 0, paddingBottom: 14} : {\r\n                                                         paddingTop: 14,\r\n                                                         paddingBottom: 14\r\n                                                     }}>\r\n                                                    <Div style={{padding: 0}}>\r\n                                                        <Header level=\"secondary\" style={{\r\n                                                            background: 'linear-gradient(110deg, #00AEFF, #029ef5)',\r\n                                                            color: '#fff',\r\n                                                            height: 'auto',\r\n                                                            paddingRight: 20,\r\n                                                            paddingLeft: 20\r\n                                                        }} aside={<h3\r\n                                                            style={{margin: 0, color: '#fff'}}>{item.day}</h3>}>\r\n                                                            <h3 style={{margin: 0, color: '#fff'}}>{item.data}</h3>\r\n                                                        </Header>\r\n                                                    </Div>\r\n                                                    {item.subjects.map((subject, index) => {\r\n                                                        return (\r\n                                                            <Div key={index} style={(index === 0) ? {\r\n                                                                background: '#fff',\r\n                                                                paddingLeft: 20,\r\n                                                                paddingRight: 20,\r\n                                                                paddingTop: 20,\r\n                                                                paddingBottom: 0\r\n                                                            } : {\r\n                                                                background: '#fff',\r\n                                                                paddingLeft: 20,\r\n                                                                paddingRight: 20,\r\n                                                                paddingTop: 0,\r\n                                                                paddingBottom: 0\r\n                                                            }}>\r\n                                                                {(index !== 0) ? <div style={{\r\n                                                                    marginBottom: 20,\r\n                                                                    height: '1px',\r\n                                                                    background: '#dcdcdc'\r\n                                                                }}/> : null}\r\n                                                                <Div style={{\r\n                                                                    alignItems: 'center',\r\n                                                                    justifyContent: 'space-between',\r\n                                                                    display: 'flex',\r\n                                                                    padding: 0\r\n                                                                }}>\r\n                                                                    <Div style={{\r\n                                                                        fontSize: 19,\r\n                                                                        color: '#323232',\r\n                                                                        fontWeight: 700,\r\n                                                                        padding: 0\r\n                                                                    }}>\r\n                                                                        {subject.time}\r\n                                                                    </Div>\r\n                                                                    <p style={{\r\n                                                                        fontSize: 15,\r\n                                                                        color: '#323232',\r\n                                                                        margin: 0,\r\n                                                                        fontWeight: 500\r\n                                                                    }}>\r\n                                                                        {subject.type}\r\n                                                                    </p>\r\n                                                                </Div>\r\n                                                                <Div style={{\r\n                                                                    fontSize: 18,\r\n                                                                    color: '#323232',\r\n                                                                    fontWeight: 600,\r\n                                                                    paddingLeft: 0,\r\n                                                                    paddingRight: 0,\r\n                                                                    paddingBottom: 0,\r\n                                                                    paddingTop: 10\r\n                                                                }}>\r\n                                                                    {subject.title}\r\n                                                                </Div>\r\n                                                                {(subject.teacher !== '') ?\r\n                                                                    <Div style={{\r\n                                                                        fontSize: 13,\r\n                                                                        color: '#323232',\r\n                                                                        paddingLeft: 0,\r\n                                                                        paddingRight: 0,\r\n                                                                        paddingBottom: 0,\r\n                                                                        paddingTop: 10\r\n                                                                    }}>\r\n                                                                        {subject.teacher}\r\n                                                                    </Div>\r\n                                                                    :\r\n                                                                    null\r\n                                                                }\r\n                                                                <Div style={{\r\n                                                                    fontSize: 14,\r\n                                                                    color: '#323232',\r\n                                                                    fontWeight: 600,\r\n                                                                    paddingLeft: 0,\r\n                                                                    paddingRight: 0,\r\n                                                                    paddingBottom: 20,\r\n                                                                    paddingTop: 10\r\n                                                                }}>\r\n                                                                    {subject.location}\r\n                                                                </Div>\r\n                                                            </Div>\r\n                                                        )\r\n                                                    })}\r\n                                                </Div>\r\n                                            )\r\n                                        })}\r\n                                    </PullToRefresh>\r\n                                }\r\n                            </div>\r\n                        }\r\n                    </Panel>\r\n                </View>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default reduxConnect(\r\n    state => ({\r\n        store: state,\r\n    }), dispatch => ({\r\n        chooseWeek: (week) => {\r\n            dispatch({type: 'chooseWeek', payload: week});\r\n        },\r\n        chooseGroup: (group) => {\r\n            dispatch({type: 'selectGroup', payload: group});\r\n        },\r\n    })\r\n)(TimeTable);\r\n","import React from 'react'\r\nimport TimeTable from \"./screens/TimeTable\";\r\n\r\nexport default class ErrorBoundary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { hasError: false };\r\n    }\r\n\r\n    componentDidCatch(error, info) {\r\n        console.log(error);\r\n        console.log(info);\r\n        this.setState({hasError: true});\r\n    }\r\n\r\n    render() {\r\n        if (this.state.hasError) {\r\n            return <TimeTable text='Ошибка при загрузке'/>\r\n        }\r\n        return this.props.children;\r\n    }\r\n}","export const firebaseConfig = {\r\n    apiKey: \"AIzaSyCn1YaKAi3BliUwsWV3kyRdU78t-X1FPDg\",\r\n    authDomain: \"mai-mini-app.firebaseapp.com\",\r\n    databaseURL: \"https://mai-mini-app.firebaseio.com\",\r\n    projectId: \"mai-mini-app\",\r\n    storageBucket: \"mai-mini-app.appspot.com\",\r\n    messagingSenderId: \"685442625210\",\r\n    appId: \"1:685442625210:web:704c090908c1f405725c83\"\r\n};\r\n","export const faculties = [\r\n        'Институт №1',\r\n        'Институт №2',\r\n        'Институт №3',\r\n        'Институт №4',\r\n        'Институт №5',\r\n        'Институт №6',\r\n        'Институт №7',\r\n        'Институт №8',\r\n        'Институт №9',\r\n        'Институт №10',\r\n        'Институт №11',\r\n        'Институт №12',\r\n];","export const courses = [1, 2, 3, 4, 5, 6];","export const type = ['Аспирантура', 'Бакалавриат', 'Магистратура', 'Специалитет'];","import React, {Component} from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {reduxConnect} from \"react-redux\";\r\nimport {faculties} from '../data/faculties'\r\nimport {courses} from '../data/courses'\r\nimport {type} from '../data/type'\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/database';\r\nimport {\r\n    View,\r\n    Panel,\r\n    PanelHeader,\r\n    Button,\r\n    Tooltip,\r\n    SelectMimicry,\r\n    FormLayout,\r\n    ModalPage,\r\n    ModalRoot,\r\n    HeaderButton,\r\n    ModalPageHeader,\r\n    platform,\r\n    IOS,\r\n    ANDROID,\r\n    Radio,\r\n    FormLayoutGroup,\r\n    Alert,\r\n    ScreenSpinner\r\n} from '@vkontakte/vkui'\r\n\r\nconst OSNAME = platform();\r\nconst MODAL_PAGE_FACULTY = 'faculty';\r\nconst MODAL_PAGE_CURSE = 'curse';\r\nconst MODAL_PAGE_TYPE = 'type';\r\nconst MODAL_PAGE_GROUPS = 'groups';\r\n\r\nclass SelectGroup extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            popout: null,\r\n            activeModal: null,\r\n            modalHistory: [],\r\n            faculty: null,\r\n            curse: null,\r\n            type: null,\r\n            groups: [],\r\n            showMessage: false,\r\n        }\r\n    }\r\n\r\n    openPopout = () => {\r\n        this.setState({\r\n            popout:\r\n                <Alert\r\n                    actions={[{\r\n                        title: 'Ок',\r\n                        autoclose: true,\r\n                    }]}\r\n                    onClose={() => {\r\n                        this.setState({popout: null})\r\n                    }\r\n                    }\r\n                >\r\n                    <h2>Групп по данному запросу не найдено</h2>\r\n                    <p>Пожалуйста проверьте корректность введенных данных</p>\r\n                </Alert>\r\n        });\r\n    };\r\n\r\n    modalBack = () => {\r\n        this.setActiveModal(this.state.modalHistory[this.state.modalHistory.length - 2]);\r\n    };\r\n\r\n    setActiveModal = (activeModal) => {\r\n        activeModal = activeModal || null;\r\n        let modalHistory = this.state.modalHistory ? [...this.state.modalHistory] : [];\r\n\r\n        if (activeModal === null) {\r\n            modalHistory = [];\r\n        } else if (modalHistory.indexOf(activeModal) !== -1) {\r\n            modalHistory = modalHistory.splice(0, modalHistory.indexOf(activeModal) + 1);\r\n        } else {\r\n            modalHistory.push(activeModal);\r\n        }\r\n\r\n        this.setState({\r\n            activeModal,\r\n            modalHistory\r\n        });\r\n    };\r\n\r\n    getGroupsList = () => {\r\n        this.setState({groups: []});\r\n        this.setState({popout: <ScreenSpinner/>});\r\n        fetch('https://cors-anywhere.herokuapp.com/https://mai.ru/education/schedule/?department=' + this.state.faculty.replace(' ', '+') + '&course=' + this.state.curse)\r\n            .then((response) => response.text())\r\n            .then((html) => {\r\n                let parser = new DOMParser();\r\n                let htmlDoc = parser.parseFromString(html, 'text/html');\r\n                let list = htmlDoc.getElementsByClassName('sc-groups');\r\n                for (let item of list) {\r\n                    let type = item.children[0].innerText;\r\n                    if (type === this.state.type) {\r\n                        let groupList = item.getElementsByTagName('a');\r\n                        let groups = [];\r\n                        for (let group of groupList) {\r\n                            groups.push(group.innerText)\r\n                        }\r\n                        this.setState({groups: groups})\r\n                    }\r\n                }\r\n                this.setState({popout: null});\r\n                if (this.state.groups.length !== 0) {\r\n                    this.setActiveModal(MODAL_PAGE_GROUPS);\r\n                } else {\r\n                    this.openPopout();\r\n                }\r\n            });\r\n\r\n    };\r\n\r\n    render() {\r\n        const modal = (\r\n            <ModalRoot activeModal={this.state.activeModal}>\r\n                <ModalPage\r\n                    id={MODAL_PAGE_FACULTY}\r\n                    header={\r\n                        <ModalPageHeader\r\n                            left={OSNAME === ANDROID &&\r\n                            <HeaderButton onClick={this.modalBack}><Icon24Cancel/></HeaderButton>}\r\n                            right={OSNAME === IOS &&\r\n                            <HeaderButton onClick={this.modalBack}><Icon24Dismiss/></HeaderButton>}\r\n                        >\r\n                            Выберите факультет\r\n                        </ModalPageHeader>\r\n                    }\r\n                    onClose={this.modalBack}\r\n                    settlingHeight={80}\r\n                >\r\n                    <FormLayout>\r\n                        <FormLayoutGroup>\r\n                            {faculties.map((elem) => {\r\n                                return (\r\n                                    <Radio name=\"radio\" onClick={() => {\r\n                                        this.setState({faculty: elem});\r\n                                        this.modalBack();\r\n                                    }} key={elem}>{elem}</Radio>\r\n                                );\r\n                            })}\r\n                        </FormLayoutGroup>\r\n                    </FormLayout>\r\n                </ModalPage>\r\n                <ModalPage\r\n                    id={MODAL_PAGE_CURSE}\r\n                    header={\r\n                        <ModalPageHeader\r\n                            left={OSNAME === ANDROID &&\r\n                            <HeaderButton onClick={this.modalBack}><Icon24Cancel/></HeaderButton>}\r\n                            right={OSNAME === IOS &&\r\n                            <HeaderButton onClick={this.modalBack}><Icon24Dismiss/></HeaderButton>}\r\n                        >\r\n                            Выберите курс\r\n                        </ModalPageHeader>\r\n                    }\r\n                    onClose={this.modalBack}\r\n                    settlingHeight={80}\r\n                >\r\n                    <FormLayout>\r\n                        <FormLayoutGroup>\r\n                            {courses.map((name) => {\r\n                                return (\r\n                                    <Radio name=\"radio\" onClick={() => {\r\n                                        this.setState({curse: name});\r\n                                        this.modalBack();\r\n                                    }} key={name}>{name + ' курс'}</Radio>\r\n                                );\r\n                            })}\r\n                        </FormLayoutGroup>\r\n                    </FormLayout>\r\n                </ModalPage>\r\n                <ModalPage\r\n                    id={MODAL_PAGE_TYPE}\r\n                    header={\r\n                        <ModalPageHeader\r\n                            left={OSNAME === ANDROID &&\r\n                            <HeaderButton onClick={this.modalBack}><Icon24Cancel/></HeaderButton>}\r\n                            right={OSNAME === IOS &&\r\n                            <HeaderButton onClick={this.modalBack}><Icon24Dismiss/></HeaderButton>}\r\n                        >\r\n                            Выберите квалификацию\r\n                        </ModalPageHeader>\r\n                    }\r\n                    onClose={this.modalBack}\r\n                    settlingHeight={80}\r\n                >\r\n                    <FormLayout>\r\n                        <FormLayoutGroup>\r\n                            {type.map((name) => {\r\n                                return (\r\n                                    <Radio name=\"radio\" onClick={() => {\r\n                                        this.setState({type: name});\r\n                                        this.modalBack();\r\n                                    }} key={name}>{name}</Radio>\r\n                                );\r\n                            })}\r\n                        </FormLayoutGroup>\r\n                    </FormLayout>\r\n                </ModalPage>\r\n                <ModalPage\r\n                    id={MODAL_PAGE_GROUPS}\r\n                    header={\r\n                        <ModalPageHeader\r\n                            left={OSNAME === ANDROID &&\r\n                            <HeaderButton onClick={this.modalBack}><Icon24Cancel/></HeaderButton>}\r\n                            right={OSNAME === IOS &&\r\n                            <HeaderButton onClick={this.modalBack}><Icon24Dismiss/></HeaderButton>}\r\n                        >\r\n                            Выберите факультет\r\n                        </ModalPageHeader>\r\n                    }\r\n                    onClose={this.modalBack}\r\n                    settlingHeight={80}\r\n                >\r\n                    <FormLayout>\r\n                        <FormLayoutGroup>\r\n                            {this.state.groups.map((elem) => {\r\n                                return (\r\n                                    <Radio name=\"radio\" onClick={() => {\r\n                                        let database = firebase.database();\r\n                                        database.ref().child(this.props.store.id).set(elem).then(() => {\r\n                                            this.modalBack();\r\n                                            this.props.chooseGroup(elem);\r\n                                        });\r\n                                    }} key={elem}>{elem}</Radio>\r\n                                );\r\n                            })}\r\n                        </FormLayoutGroup>\r\n                    </FormLayout>\r\n                </ModalPage>\r\n            </ModalRoot>\r\n        );\r\n\r\n        return (\r\n            <View id='main' popout={this.state.popout} activePanel='groupPanel' modal={modal}>\r\n                <Panel id='groupPanel'>\r\n                    <PanelHeader>Выберите группу</PanelHeader>\r\n                    <FormLayout style={{background: '#fff'}}>\r\n                        <SelectMimicry style={{marginTop: 10}}\r\n                                       placeholder={(this.state.faculty === null) ? 'Выберите факультет' : this.state.faculty}\r\n                                       onClick={() => {\r\n                                           this.setActiveModal(MODAL_PAGE_FACULTY)\r\n                                       }}/>\r\n                        <SelectMimicry placeholder={(this.state.curse === null) ? 'Выберите курс' : this.state.curse}\r\n                                       onClick={() => {\r\n                                           this.setActiveModal(MODAL_PAGE_CURSE)\r\n                                       }}/>\r\n                        <SelectMimicry\r\n                            placeholder={(this.state.type === null) ? 'Выберите квалификацию' : this.state.type}\r\n                            onClick={() => {\r\n                                this.setActiveModal(MODAL_PAGE_TYPE)\r\n                            }}/>\r\n                        <Tooltip text=\"Заполните все поля\"\r\n                                 isShown={this.state.showMessage}\r\n                                 onClose={() => this.setState({showMessage: false})}\r\n                                 title=\"Перед выбором группы\"\r\n                        >\r\n                            <Button style={{background: 'linear-gradient(110deg, #00AEFF, #029ef5)', color: '#fff'}} size=\"xl\"\r\n                                    level=\"secondary\" onClick={() => {\r\n                                if (this.state.faculty !== null && this.state.curse !== null && this.state.type !== null) {\r\n                                    this.getGroupsList();\r\n                                } else {\r\n                                    this.setState({showMessage: true})\r\n                                }\r\n                            }\r\n                            }>\r\n                                Выбрать группу\r\n                            </Button>\r\n                        </Tooltip>\r\n                    </FormLayout>\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default reduxConnect(\r\n    state => ({\r\n        store: state,\r\n    }), dispatch => ({\r\n        chooseGroup: (group) => {\r\n            dispatch({type: 'selectGroup', payload: group});\r\n        },\r\n    })\r\n)(SelectGroup);\r\n\r\n","import React, {Component} from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {reduxConnect} from \"react-redux\";\r\nimport connect from '@vkontakte/vk-connect';\r\nimport {firebaseConfig} from \"./config\";\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/database';\r\nimport SelectGroup from './screens/SelectGroup'\r\nimport TimeTable from './screens/TimeTable'\r\nimport LoadingScreen from './screens/LoadingScreen'\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            id: null,\r\n            loading: true,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        connect.sendPromise(\"VKWebAppGetUserInfo\")\r\n            .then(data => {\r\n                this.setState({id: data.id});\r\n                this.props.chooseId(data.id);\r\n                return data.id\r\n            })\r\n            .then((id) => {\r\n                firebase.initializeApp(firebaseConfig);\r\n                let database = firebase.database();\r\n                database.ref('/' + id).once('value')\r\n                    .then((snapshot) => {\r\n                        if (snapshot.val() !== null) {\r\n                            this.setState({currentGroup: snapshot.val()});\r\n                            this.props.chooseGroup(snapshot.val());\r\n                        }\r\n                    })\r\n                    .then(() => {\r\n                        this.setState({loading: false});\r\n                    });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return <LoadingScreen text='Загрузка данных о группе...'/>\r\n        } else if (this.props.store.group === \"\") {\r\n            return <SelectGroup/>\r\n        } else {\r\n            return <TimeTable/>\r\n        }\r\n    }\r\n}\r\n\r\nexport default reduxConnect(\r\n    state => ({\r\n        store: state,\r\n    }),\r\n    dispatch => ({\r\n        chooseGroup: (group) => {\r\n            dispatch({type: 'selectGroup', payload: group});\r\n        },\r\n        chooseId: (id) => {\r\n            dispatch({type: 'selectId', payload: id});\r\n        },\r\n    })\r\n)(App);\r\n\r\n","import 'core-js/features/map';\r\nimport 'core-js/features/set';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport {Provider} from 'react-redux'\r\nimport reducer from './reducers'\r\nimport {createStore} from 'redux'\r\nimport ErrorBoundary from './ErrorBoundary'\r\nimport App from './App';\r\n\r\nconst store = createStore(reducer);\r\n\r\nlet schemeAttribute = document.createAttribute('scheme');\r\nschemeAttribute.value = 'bright_light';\r\ndocument.body.attributes.setNamedItem(schemeAttribute);\r\n\r\nconnect.send('VKWebAppInit');\r\n\r\nReactDOM.render(\r\n    <ErrorBoundary>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </ErrorBoundary>, document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}