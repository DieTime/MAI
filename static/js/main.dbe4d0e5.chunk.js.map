{"version":3,"sources":["reducers/index.js","reducers/group.js","reducers/id.js","reducers/currentWeek.js","config.js","data/faculties.js","data/courses.js","data/type.js","screens/SelectGroup.js","screens/LoadingScreen.js","screens/TimeTable.js","App.js","index.js"],"names":["combineReducers","group","state","action","type","payload","id","currentWeek","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","faculties","faculty","schedule","courses","OSNAME","platform","MODAL_PAGE_GROUPS","SelectGroup","props","openPopout","setState","popout","actions","title","autoclose","onClose","modalBack","setActiveModal","modalHistory","length","activeModal","indexOf","splice","push","getGroupsList","groups","fetch","curse","then","response","text","html","list","DOMParser","parseFromString","getElementsByClassName","item","children","innerText","groupList","getElementsByTagName","showMessage","modal","this","header","left","ANDROID","onClick","right","IOS","settlingHeight","map","elem","name","key","firebase","database","ref","child","store","set","chooseGroup","activePanel","style","background","marginTop","placeholder","isShown","color","size","level","Component","reduxConnect","dispatch","LoadingScreen","height","display","alignItems","justifyContent","flexDirection","marginBottom","xmlns","width","fill","viewBox","d","TimeTable","sortByDay","arr","days","i","j","swap","beautify","substr","trimLeft","getWeekNum","dataSet","dayList","day","data","weeks","dataArr","split","startWeekData","endWeekData","currentWeekData","parseInt","dates","week","getTimeTable","index","cells","oneDay","childNodes","subjects","dataObj","subject","subjectObj","time","teacher","location","nodeValue","dayObj","weekData","dateReformat","date","finalDate","first","second","htmlDoc","weeksList","unshift","console","log","a","status","aside","marginLeft","position","top","bottom","margin","fontSize","paddingTop","paddingBottom","textAlign","fontWeight","padding","opacity","borderRadius","paddingRight","paddingLeft","info","toString","chooseWeek","App","loading","connect","sendPromise","chooseId","initializeApp","once","snapshot","val","currentGroup","createStore","reducer","schemeAttribute","document","createAttribute","value","body","attributes","setNamedItem","send","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.dbe4d0e5.chunk.js","sourcesContent":["import {combineReducers} from 'redux';\r\nimport group from './group'\r\nimport currentWeek from './currentWeek'\r\nimport id from './id'\r\n\r\nexport default combineReducers({\r\n    group,\r\n    id,\r\n    currentWeek,\r\n})","export default function group(state = \"\", action) {\r\n    if (action.type === 'selectGroup') {\r\n        return action.payload;\r\n    }\r\n    return state;\r\n}","export default function id(state = null, action) {\r\n    if (action.type === 'selectId') {\r\n        return action.payload;\r\n    }\r\n    return state;\r\n}","export default function currentWeek(state = null, action) {\r\n    if (action.type === 'chooseWeek') {\r\n        return action.payload;\r\n    }\r\n    return state;\r\n}","export const firebaseConfig = {\r\n    apiKey: \"AIzaSyCn1YaKAi3BliUwsWV3kyRdU78t-X1FPDg\",\r\n    authDomain: \"mai-mini-app.firebaseapp.com\",\r\n    databaseURL: \"https://mai-mini-app.firebaseio.com\",\r\n    projectId: \"mai-mini-app\",\r\n    storageBucket: \"mai-mini-app.appspot.com\",\r\n    messagingSenderId: \"685442625210\",\r\n    appId: \"1:685442625210:web:704c090908c1f405725c83\"\r\n};\r\n","export const faculties = [\r\n    {\r\n        faculty: 'Факультет №1',\r\n        schedule:'150'\r\n    },\r\n    {\r\n        faculty: 'Институт №2',\r\n        schedule:'153'\r\n    },\r\n    {\r\n        faculty: 'Институт №3',\r\n        schedule:'157'\r\n    },\r\n    {\r\n        faculty: 'Институт №4',\r\n        schedule:'149'\r\n    },\r\n    {\r\n        faculty: 'ИНЖЭКИН',\r\n        schedule:'155'\r\n    },\r\n    {\r\n        faculty: 'Институт №6',\r\n        schedule:'160'\r\n    },\r\n    {\r\n        faculty: 'Факультет №7',\r\n        schedule:'154'\r\n    },\r\n    {\r\n        faculty: 'Факультет №8',\r\n        schedule:'151'\r\n    },\r\n    {\r\n        faculty: 'Институт №9',\r\n        schedule:'152'\r\n    },\r\n    {\r\n        faculty: 'Институт №10',\r\n        schedule:'146'\r\n    },\r\n    {\r\n        faculty: 'Институт №11',\r\n        schedule:'165'\r\n    },\r\n    {\r\n        faculty: 'Институт №12',\r\n        schedule:'164'\r\n    }\r\n];","export const courses = [1, 2, 3, 4, 5, 6];","export const type = ['Аспирантура','Бакалавриат', 'Магистратура', 'Специалитет'];","import React, {Component} from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {reduxConnect} from \"react-redux\";\r\nimport {faculties} from '../data/faculties'\r\nimport {courses} from '../data/courses'\r\nimport {type} from '../data/type'\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/database';\r\nimport {\r\n    View,\r\n    Panel,\r\n    PanelHeader,\r\n    Button,\r\n    Tooltip,\r\n    SelectMimicry,\r\n    FormLayout,\r\n    ModalPage,\r\n    ModalRoot,\r\n    HeaderButton,\r\n    ModalPageHeader,\r\n    platform,\r\n    IOS,\r\n    ANDROID,\r\n    Radio,\r\n    FormLayoutGroup,\r\n    Alert,\r\n    ScreenSpinner\r\n} from '@vkontakte/vkui'\r\n\r\nconst OSNAME = platform();\r\nconst MODAL_PAGE_FACULTY = 'faculty';\r\nconst MODAL_PAGE_CURSE = 'curse';\r\nconst MODAL_PAGE_TYPE = 'type';\r\nconst MODAL_PAGE_GROUPS = 'groups';\r\n\r\nclass SelectGroup extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            popout: null,\r\n            activeModal: null,\r\n            modalHistory: [],\r\n            faculty: null,\r\n            curse: null,\r\n            type: null,\r\n            schedule: null,\r\n            groups: [],\r\n            showMessage: false,\r\n        }\r\n    }\r\n\r\n    openPopout = () => {\r\n        this.setState({\r\n            popout:\r\n                <Alert\r\n                    actions={[{\r\n                        title: 'Ок',\r\n                        autoclose: true,\r\n                    }]}\r\n                    onClose={() => {\r\n                        this.setState({popout: null})\r\n                    }\r\n                    }\r\n                >\r\n                    <h2>Групп по данному запросу не найдено</h2>\r\n                    <p>Пожалуйста проверьте корректность введенных данных</p>\r\n                </Alert>\r\n        });\r\n    };\r\n\r\n    modalBack = () => {\r\n        this.setActiveModal(this.state.modalHistory[this.state.modalHistory.length - 2]);\r\n    };\r\n\r\n    setActiveModal = (activeModal) => {\r\n        activeModal = activeModal || null;\r\n        let modalHistory = this.state.modalHistory ? [...this.state.modalHistory] : [];\r\n\r\n        if (activeModal === null) {\r\n            modalHistory = [];\r\n        } else if (modalHistory.indexOf(activeModal) !== -1) {\r\n            modalHistory = modalHistory.splice(0, modalHistory.indexOf(activeModal) + 1);\r\n        } else {\r\n            modalHistory.push(activeModal);\r\n        }\r\n\r\n        this.setState({\r\n            activeModal,\r\n            modalHistory\r\n        });\r\n    };\r\n\r\n    getGroupsList = () => {\r\n        this.setState({groups: []});\r\n        this.setState({popout: <ScreenSpinner/>});\r\n        fetch('https://cors-anywhere.herokuapp.com/https://mai.ru/education/schedule/?department=' + this.state.schedule + '&course=' + this.state.curse)\r\n            .then((response) => response.text())\r\n            .then((html) => {\r\n                let parser = new DOMParser();\r\n                let htmlDoc = parser.parseFromString(html, 'text/html');\r\n                let list = htmlDoc.getElementsByClassName('sc-groups');\r\n                for (let item of list) {\r\n                    let type = item.children[0].innerText;\r\n                    if (type === this.state.type) {\r\n                        let groupList = item.getElementsByTagName('a');\r\n                        let groups = [];\r\n                        for (let group of groupList) {\r\n                            groups.push(group.innerText)\r\n                        }\r\n                        this.setState({groups: groups})\r\n                    }\r\n                }\r\n                this.setState({popout: null});\r\n                if (this.state.groups.length !== 0) {\r\n                    this.setActiveModal(MODAL_PAGE_GROUPS);\r\n                } else {\r\n                    this.openPopout();\r\n                }\r\n            });\r\n\r\n    };\r\n\r\n    render() {\r\n        const modal = (\r\n            <ModalRoot activeModal={this.state.activeModal}>\r\n                <ModalPage\r\n                    id={MODAL_PAGE_FACULTY}\r\n                    header={\r\n                        <ModalPageHeader\r\n                            left={OSNAME === ANDROID &&\r\n                            <HeaderButton onClick={this.modalBack}><Icon24Cancel/></HeaderButton>}\r\n                            right={OSNAME === IOS &&\r\n                            <HeaderButton onClick={this.modalBack}><Icon24Dismiss/></HeaderButton>}\r\n                        >\r\n                            Выберите факультет\r\n                        </ModalPageHeader>\r\n                    }\r\n                    onClose={this.modalBack}\r\n                    settlingHeight={80}\r\n                >\r\n                    <FormLayout>\r\n                        <FormLayoutGroup>\r\n                            {faculties.map((elem) => {\r\n                                return (\r\n                                    <Radio name=\"radio\" onClick={() => {\r\n                                        this.setState({faculty: elem.faculty});\r\n                                        this.setState({schedule: elem.schedule});\r\n                                        this.modalBack();\r\n                                    }} key={elem.schedule}>{elem.faculty}</Radio>\r\n                                );\r\n                            })}\r\n                        </FormLayoutGroup>\r\n                    </FormLayout>\r\n                </ModalPage>\r\n                <ModalPage\r\n                    id={MODAL_PAGE_CURSE}\r\n                    header={\r\n                        <ModalPageHeader\r\n                            left={OSNAME === ANDROID &&\r\n                            <HeaderButton onClick={this.modalBack}><Icon24Cancel/></HeaderButton>}\r\n                            right={OSNAME === IOS &&\r\n                            <HeaderButton onClick={this.modalBack}><Icon24Dismiss/></HeaderButton>}\r\n                        >\r\n                            Выберите курс\r\n                        </ModalPageHeader>\r\n                    }\r\n                    onClose={this.modalBack}\r\n                    settlingHeight={80}\r\n                >\r\n                    <FormLayout>\r\n                        <FormLayoutGroup>\r\n                            {courses.map((name) => {\r\n                                return (\r\n                                    <Radio name=\"radio\" onClick={() => {\r\n                                        this.setState({curse: name});\r\n                                        this.modalBack();\r\n                                    }} key={name}>{name + ' курс'}</Radio>\r\n                                );\r\n                            })}\r\n                        </FormLayoutGroup>\r\n                    </FormLayout>\r\n                </ModalPage>\r\n                <ModalPage\r\n                    id={MODAL_PAGE_TYPE}\r\n                    header={\r\n                        <ModalPageHeader\r\n                            left={OSNAME === ANDROID &&\r\n                            <HeaderButton onClick={this.modalBack}><Icon24Cancel/></HeaderButton>}\r\n                            right={OSNAME === IOS &&\r\n                            <HeaderButton onClick={this.modalBack}><Icon24Dismiss/></HeaderButton>}\r\n                        >\r\n                            Выберите квалификацию\r\n                        </ModalPageHeader>\r\n                    }\r\n                    onClose={this.modalBack}\r\n                    settlingHeight={80}\r\n                >\r\n                    <FormLayout>\r\n                        <FormLayoutGroup>\r\n                            {type.map((name) => {\r\n                                return (\r\n                                    <Radio name=\"radio\" onClick={() => {\r\n                                        this.setState({type: name});\r\n                                        this.modalBack();\r\n                                    }} key={name}>{name}</Radio>\r\n                                );\r\n                            })}\r\n                        </FormLayoutGroup>\r\n                    </FormLayout>\r\n                </ModalPage>\r\n                <ModalPage\r\n                    id={MODAL_PAGE_GROUPS}\r\n                    header={\r\n                        <ModalPageHeader\r\n                            left={OSNAME === ANDROID &&\r\n                            <HeaderButton onClick={this.modalBack}><Icon24Cancel/></HeaderButton>}\r\n                            right={OSNAME === IOS &&\r\n                            <HeaderButton onClick={this.modalBack}><Icon24Dismiss/></HeaderButton>}\r\n                        >\r\n                            Выберите факультет\r\n                        </ModalPageHeader>\r\n                    }\r\n                    onClose={this.modalBack}\r\n                    settlingHeight={80}\r\n                >\r\n                    <FormLayout>\r\n                        <FormLayoutGroup>\r\n                            {this.state.groups.map((elem) => {\r\n                                return (\r\n                                    <Radio name=\"radio\" onClick={() => {\r\n                                        let database = firebase.database();\r\n                                        database.ref().child(this.props.store.id).set(elem).then(() => {\r\n                                            this.modalBack();\r\n                                            this.props.chooseGroup(elem);\r\n                                        });\r\n                                    }} key={elem}>{elem}</Radio>\r\n                                );\r\n                            })}\r\n                        </FormLayoutGroup>\r\n                    </FormLayout>\r\n                </ModalPage>\r\n            </ModalRoot>\r\n        );\r\n\r\n        return (\r\n            <View id='main' popout={this.state.popout} activePanel='groupPanel' modal={modal}>\r\n                <Panel id='groupPanel'>\r\n                    <PanelHeader>Выберите группу</PanelHeader>\r\n                    <FormLayout style={{background: '#fff'}}>\r\n                        <SelectMimicry style={{marginTop: 10}}\r\n                                       placeholder={(this.state.faculty === null) ? 'Выберите факультет' : this.state.faculty}\r\n                                       onClick={() => {\r\n                                           this.setActiveModal(MODAL_PAGE_FACULTY)\r\n                                       }}/>\r\n                        <SelectMimicry placeholder={(this.state.curse === null) ? 'Выберите курс' : this.state.curse}\r\n                                       onClick={() => {\r\n                                           this.setActiveModal(MODAL_PAGE_CURSE)\r\n                                       }}/>\r\n                        <SelectMimicry\r\n                            placeholder={(this.state.type === null) ? 'Выберите квалификацию' : this.state.type}\r\n                            onClick={() => {\r\n                                this.setActiveModal(MODAL_PAGE_TYPE)\r\n                            }}/>\r\n                        <Tooltip text=\"Заполните все поля\"\r\n                                 isShown={this.state.showMessage}\r\n                                 onClose={() => this.setState({showMessage: false})}\r\n                                 title=\"Перед выбором группы\"\r\n                        >\r\n                            <Button style={{background: 'linear-gradient(110deg, #00AEFF, #029ef5)', color: '#fff'}} size=\"xl\"\r\n                                    level=\"secondary\" onClick={() => {\r\n                                if (this.state.faculty !== null && this.state.curse !== null && this.state.type !== null) {\r\n                                    this.getGroupsList();\r\n                                } else {\r\n                                    this.setState({showMessage: true})\r\n                                }\r\n                            }\r\n                            }>\r\n                                Выбрать группу\r\n                            </Button>\r\n                        </Tooltip>\r\n                    </FormLayout>\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default reduxConnect(\r\n    state => ({\r\n        store: state,\r\n    }), dispatch => ({\r\n        chooseGroup: (group) => {\r\n            dispatch({type: 'selectGroup', payload: group});\r\n        },\r\n    })\r\n)(SelectGroup);\r\n\r\n","import React, {Component} from 'react';\r\nimport {Spinner} from \"@vkontakte/vkui\";\r\n\r\nexport default class LoadingScreen extends Component {\r\n    render() {\r\n        return (\r\n            <div style={{\r\n                background: 'linear-gradient(110deg, #00AEFF, #029ef5)',\r\n                height: '100%',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'flex-end',\r\n                flexDirection: 'column'\r\n            }}>\r\n                <div style={{height: '63%', display: 'flex', alignItems: 'flex-end'}}>\r\n                    <svg\r\n                        style={{marginBottom: 20}}\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        width=\"152\"\r\n                        height=\"152\"\r\n                        fill=\"none\"\r\n                        viewBox=\"0 0 152 152\"\r\n                    >\r\n                        <path\r\n                            fill=\"#fff\"\r\n                            d=\"M4.15 28.476l5.847-6.15c3.424-3.424 9.19-2.236 9.19-2.236l17.111 2.341 8.667-8.48c4.566-4.484 8.69 2.377 6.896 4.74l-4.45 5.173 18.427 3.413 6.256-7.292c6.685-7.99 11.66-.792 8.643 3.448l-4.042 5.113 27.687 3.611C128.19 9.247 137.909-.256 144.173 5.39c6.304 5.682-4.848 17.008-26.535 39.347l3.937 28.527 5.801-4.834c3.424-2.854 9.504 1.724 3.227 7.676l-7.979 7.525 3.366 18.672 4.985-3.832c4.403-3.506 9.749 1.13 3.798 7.489l-7.921 7.979c-.326.245 2.586 16.378 2.586 16.378 1.793 7.908-2.668 10.798-2.668 10.798l-5.439 4.741-20.664-58.37c-1.713-5.136-6.052-10.714-13.303-10.052-3.832.408-13.512 6.942-14.816 8.492l-22.411 21.549c-.571.407 3.447 28.014 3.447 28.014 0 .815-7.105 10.134-7.105 10.134l-14.2-25.277-7.011 3.262 4.1-6.384L3.8 102.792l9.587-7.012c4.565 1.06 28.503 3.75 28.992 3.506 0 0 19.493-19.332 20.606-20.5 6.44-6.768 8.608-9.296 9.586-12.64.98-3.345-.689-8.247-10.798-14.455C47.831 43.131 4.15 28.476 4.15 28.476z\"\r\n                        >\r\n                        </path>\r\n                    </svg>\r\n                </div>\r\n                <div style={{height: '50%', display: 'flex', alignItems: 'flex-start'}}>\r\n                    <div style={{marginTop: 20, color: '#fff'}}>\r\n                        <Spinner size='medium' style={{color: '#fff'}}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {reduxConnect} from \"react-redux\";\r\nimport Icon16Dropdown from '@vkontakte/icons/dist/16/dropdown';\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport Icon24UserOutGoing from '@vkontakte/icons/dist/24/user_outgoing';\r\nimport LoadingScreen from './LoadingScreen'\r\n\r\nimport {\r\n    Panel,\r\n    PanelHeader,\r\n    View,\r\n    PanelHeaderContent,\r\n    Spinner,\r\n    Div,\r\n    platform,\r\n    IOS,\r\n    Header,\r\n    ANDROID,\r\n    ModalRoot,\r\n    ModalPage,\r\n    ModalPageHeader,\r\n    HeaderButton,\r\n    FormLayout,\r\n    FormLayoutGroup,\r\n    Radio,\r\n    Button,\r\n    Tooltip,\r\n    Footer\r\n} from \"@vkontakte/vkui\";\r\n\r\nconst OSNAME = platform();\r\n\r\nclass TimeTable extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activeModal: null,\r\n            dataSet: [],\r\n            currentWeek: {\r\n                text: 'Текущая неделя',\r\n                index: 0\r\n            },\r\n            weeks: [],\r\n            weekData: [],\r\n            showMessage: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('https://cors-anywhere.herokuapp.com/https://mai.ru/education/schedule/detail.php?group=' + this.props.store.group)\r\n            .then((response) => response.text())\r\n            .then((html) => {\r\n                let parser = new DOMParser();\r\n                let htmlDoc = parser.parseFromString(html, 'text/html');\r\n                let cells = htmlDoc.getElementsByClassName('table');\r\n                let list = cells[0].children[0].children;\r\n                let weeksList = [];\r\n                for (let item of list) {\r\n                    weeksList.push(item.childNodes[1].innerText);\r\n                }\r\n                weeksList.unshift('Текущая неделя');\r\n                this.setState({weeks: weeksList});\r\n\r\n                let dataSet = [];\r\n                cells = htmlDoc.getElementsByClassName('sc-table-day');\r\n                for (let item of cells) {\r\n                    let oneDay = item.children[0].children;\r\n                    let day = oneDay[0].children[0].innerText;\r\n                    let data = oneDay[0].childNodes[0].data;\r\n                    let subjects = oneDay[1].children[0].children;\r\n                    let dataObj = [];\r\n                    for (let subject of subjects) {\r\n                        console.log(subjects);\r\n                        let subjectObj = {\r\n                            time: subject.children[0].innerText,\r\n                            type: subject.children[2].innerText,\r\n                            title: subject.children[3].children[0].children[0].innerText,\r\n                            teacher: (subject.children[3].children[0].children.length < 2) ? '' : this.beautify(subject.children[3].children[0].children[2].innerText),\r\n                            location: (subject.children[4].childNodes.length > 1) ? subject.children[4].childNodes[1].nodeValue : '--каф.'\r\n                        };\r\n                        dataObj.push(subjectObj);\r\n                    }\r\n                    let dayObj = {\r\n                        day: day,\r\n                        data: data,\r\n                        subjects: dataObj\r\n                    };\r\n                    dataSet.push(dayObj);\r\n                }\r\n                this.setState({dataSet: dataSet});\r\n            })\r\n            .then(() => {\r\n                this.setState({weekData: this.getWeekNum()});\r\n            })\r\n    }\r\n\r\n    sortByDay = (arr) => {\r\n        let days = ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'];\r\n        for (let i = 0; i < arr.length - 1; i++) {\r\n            for (let j = i; j < arr.length; j++) {\r\n                if (days.indexOf(arr[i]) > days.indexOf(arr[j])) {\r\n                    let swap = arr[j];\r\n                    arr[j] = arr[i];\r\n                    arr[i] = swap;\r\n                }\r\n            }\r\n        }\r\n        return arr;\r\n    };\r\n\r\n    beautify = (text) => {\r\n        if (text[0] === ',') {\r\n            return text.substr(1, text.length).trimLeft();\r\n        } else {\r\n            return text;\r\n        }\r\n    };\r\n\r\n    getWeekNum = () => {\r\n        if (this.state.dataSet[0] === null) return null;\r\n        let i = 0;\r\n        let dayList = [];\r\n        while (i < this.state.dataSet.length) {\r\n            dayList.push(this.state.dataSet[i].day);\r\n            i++;\r\n        }\r\n        dayList = this.sortByDay(dayList);\r\n        if (dayList.length > 0) {\r\n            let data = null;\r\n            i = 0;\r\n            while (i < this.state.dataSet.length) {\r\n                if (this.state.dataSet[i].day === dayList[0]) {\r\n                    data = this.state.dataSet[i].data;\r\n                }\r\n                i++;\r\n            }\r\n            if (data !== null) {\r\n                i = 1;\r\n                while (i < this.state.weeks.length) {\r\n                    let dataArr = this.state.weeks[i].split(\" - \");\r\n                    let startWeekData = dataArr[0].split('.');\r\n                    let endWeekData = dataArr[1].split('.');\r\n                    let currentWeekData = data.split('.');\r\n                    if (startWeekData[1] === currentWeekData[1] && ((parseInt(startWeekData[0]) <= parseInt(currentWeekData[0]) && parseInt(currentWeekData[0]) <= parseInt(endWeekData[0])) || (parseInt(currentWeekData[1]) < parseInt(endWeekData[1])))) {\r\n                        return {\r\n                            day: dayList[0],\r\n                            text: 'Неделя ' + i,\r\n                            dates: this.state.weeks[i],\r\n                            week: i\r\n                        }\r\n                    }\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n\r\n    getTimeTable = () => {\r\n        this.setState({dataSet: []});\r\n        let week = (this.state.currentWeek.text === 'Текущая неделя') ? '' : '&week=' + this.state.currentWeek.index;\r\n        fetch('https://cors-anywhere.herokuapp.com/https://mai.ru/education/schedule/detail.php?group=' + this.props.store.group + week)\r\n            .then((response) => response.text())\r\n            .then((html) => {\r\n                let parser = new DOMParser();\r\n                let htmlDoc = parser.parseFromString(html, 'text/html');\r\n                let cells = htmlDoc.getElementsByClassName('sc-table-day');\r\n                let dataSet = [];\r\n                for (let item of cells) {\r\n                    let oneDay = item.children[0].children;\r\n                    let day = oneDay[0].children[0].innerText;\r\n                    let data = oneDay[0].childNodes[0].data;\r\n                    let subjects = oneDay[1].children[0].children;\r\n                    let dataObj = [];\r\n                    for (let subject of subjects) {\r\n                        let subjectObj = {\r\n                            time: subject.children[0].innerText,\r\n                            type: subject.children[2].innerText,\r\n                            title: subject.children[3].children[0].children[0].innerText,\r\n                            teacher: (subject.children[3].children[0].children.length < 2) ? '' : subject.children[3].children[0].children[2].innerText,\r\n                            location: (subject.children[4].childNodes.length > 1) ? subject.children[4].childNodes[1].nodeValue : '--каф.'\r\n                        };\r\n                        dataObj.push(subjectObj);\r\n                    }\r\n                    let dayObj = {\r\n                        day: day,\r\n                        data: data,\r\n                        subjects: dataObj\r\n                    };\r\n                    dataSet.push(dayObj);\r\n                }\r\n                return dataSet;\r\n            })\r\n            .then(data => {\r\n                if (data.length === 0) this.setState({dataSet: [null]});\r\n                else this.setState({dataSet: data});\r\n            })\r\n            .then(() => {\r\n                this.setState({weekData: this.getWeekNum()});\r\n            })\r\n    };\r\n\r\n    modalBack = () => {\r\n        this.setActiveModal(null);\r\n    };\r\n\r\n    setActiveModal = (activeModal) => {\r\n        activeModal = activeModal || null;\r\n        this.setState({\r\n            activeModal,\r\n        });\r\n    };\r\n\r\n    dateReformat = (date) => {\r\n        let finalDate = '';\r\n        let arr = date.split(\" - \");\r\n        let first = arr[0].split(\".\");\r\n        let second = arr[1].split(\".\");\r\n        finalDate += first[0] + '.' + first[1] + '.' + first[2].substr(-2) + \" - \" + second[0] + '.' + second[1] + '.' + second[2].substr(-2);\r\n        return finalDate;\r\n    };\r\n\r\n    render() {\r\n        const modal = (\r\n            <ModalRoot activeModal={this.state.activeModal}>\r\n                <ModalPage\r\n                    id=\"weeks\"\r\n                    header={\r\n                        <ModalPageHeader\r\n                            left={OSNAME === ANDROID &&\r\n                            <HeaderButton onClick={this.modalBack}><Icon24Cancel/></HeaderButton>}\r\n                            right={OSNAME === IOS &&\r\n                            <HeaderButton onClick={this.modalBack}><Icon24Dismiss/></HeaderButton>}\r\n                        >\r\n                            Выберите неделю\r\n                        </ModalPageHeader>\r\n                    }\r\n                    onClose={this.modalBack}\r\n                    settlingHeight={80}\r\n                >\r\n                    <FormLayout>\r\n                        <FormLayoutGroup>\r\n                            {this.state.weeks.map((text, index) => {\r\n                                return (\r\n                                    <Radio name=\"radio\" onClick={async () => {\r\n                                        if (this.state.currentWeek.text !== text) {\r\n                                            await this.setState({currentWeek: {text, index}});\r\n                                            this.getTimeTable();\r\n                                        }\r\n                                        this.modalBack();\r\n                                    }} key={text}>{\r\n                                        (index !== 0)\r\n                                            ? this.dateReformat(text) + ' (Неделя ' + index + ')'\r\n                                            : text}\r\n                                    </Radio>\r\n                                );\r\n                            })}\r\n                        </FormLayoutGroup>\r\n                    </FormLayout>\r\n                </ModalPage>\r\n            </ModalRoot>\r\n        );\r\n\r\n        if (this.state.weeks.length === 0) {\r\n                return <LoadingScreen/>\r\n        } else if (this.state.dataSet.length === 0) {\r\n            return (\r\n                <View id='main' activePanel='main' modal={modal}>\r\n                    <Panel id='main'>\r\n                        <PanelHeader left={<HeaderButton onClick={() => this.props.chooseGroup(\"\")}\r\n                        ><Icon24UserOutGoing style={{color: '#323232'}}/></HeaderButton>}>\r\n                            <PanelHeaderContent\r\n                                status={this.state.currentWeek.text === 'Текущая неделя' ? 'Текущая неделя' : 'Неделя ' + this.state.currentWeek.index}\r\n                                aside={<Icon16Dropdown style={{marginLeft: 1}}/>}\r\n                                onClick={() => this.setActiveModal('weeks')}\r\n                            >\r\n                                {this.props.store.group}\r\n                            </PanelHeaderContent>\r\n                        </PanelHeader>\r\n                        <Spinner size=\"large\"\r\n                                 style={{position: 'absolute', top: 0, bottom: 0, left: 0, right: 0, margin: 'auto'}}/>\r\n                    </Panel>\r\n                </View>\r\n            )\r\n        } else if (this.state.dataSet[0] === null) {\r\n            return (\r\n                <View id='main' activePanel='main' modal={modal}>\r\n                    <Panel id='main'>\r\n                        <PanelHeader left={<HeaderButton onClick={() => this.props.chooseGroup(\"\")}\r\n                        ><Icon24UserOutGoing style={{color: '#323232'}}/></HeaderButton>}>\r\n                            <PanelHeaderContent\r\n                                status={this.state.currentWeek.text === 'Текущая неделя' ? 'Текущая неделя' : 'Неделя ' + this.state.currentWeek.index}\r\n                                aside={<Icon16Dropdown style={{marginLeft: 1}}/>}\r\n                                onClick={() => this.setActiveModal('weeks')}\r\n                            >\r\n                                {this.props.store.group}\r\n                            </PanelHeaderContent>\r\n                        </PanelHeader>\r\n                        <Footer style={{fontSize: 15}}>Нет данных</Footer>\r\n                    </Panel>\r\n                </View>\r\n            )\r\n        } else {\r\n            return (\r\n                <View id='main' activePanel='main' modal={modal}>\r\n                    <Panel id='main'>\r\n                        <PanelHeader left={<HeaderButton onClick={() => this.props.chooseGroup(\"\")}\r\n                        ><Icon24UserOutGoing style={{color: '#323232'}}/></HeaderButton>}>\r\n                            <PanelHeaderContent\r\n                                status={this.state.currentWeek.text === 'Текущая неделя' ? 'Текущая неделя' : 'Неделя ' + this.state.currentWeek.index}\r\n                                aside={<Icon16Dropdown style={{marginLeft: 1}}/>}\r\n                                onClick={() => this.setActiveModal('weeks')}\r\n                            >\r\n                                {this.props.store.group}\r\n                            </PanelHeaderContent>\r\n                        </PanelHeader>\r\n                        {this.state.dataSet.map((item, index) => {\r\n                            if (this.state.weekData !== null && item.day === this.state.weekData.day && index !== 0) return (\r\n                                <Div key={index} style={(index !== 0) ? {paddingTop: 0, paddingBottom: 14} : {\r\n                                    paddingTop: 14,\r\n                                    paddingBottom: 14,\r\n                                }}>\r\n                                    <Div style={{\r\n                                        textAlign: 'center',\r\n                                        fontSize: 16,\r\n                                        paddingBottom: 5,\r\n                                        paddingTop: 3,\r\n                                        fontWeight: 600\r\n                                    }}>{this.state.weekData.text}</Div>\r\n                                    <Div style={{\r\n                                        textAlign: 'center',\r\n                                        marginBottom: 17,\r\n                                        padding: 0,\r\n                                        fontSize: 14,\r\n                                        opacity: 0.4\r\n                                    }}>{'(' + this.state.weekData.dates + ')'}</Div>\r\n                                    <Div style={{padding: 0, borderRadius: 25}}>\r\n                                        <Header level=\"secondary\" style={{\r\n                                            background: '#00a1f5',\r\n                                            color: '#fff',\r\n                                            height: 'auto',\r\n                                            paddingRight: 20,\r\n                                            paddingLeft: 20,\r\n                                        }} aside={<h3 style={{margin: 0, color: '#fff'}}>{item.day}</h3>}>\r\n                                            <h3 style={{margin: 0, color: '#fff'}}>{item.data}</h3>\r\n                                        </Header>\r\n                                    </Div>\r\n                                    {item.subjects.map((subject, index) => {\r\n                                        return (\r\n                                            <Div key={index} style={(index === 0) ? {\r\n                                                background: '#fff',\r\n                                                paddingLeft: 20,\r\n                                                paddingRight: 20,\r\n                                                paddingTop: 20,\r\n                                                paddingBottom: 0\r\n                                            } : {\r\n                                                background: '#fff',\r\n                                                paddingLeft: 20,\r\n                                                paddingRight: 20,\r\n                                                paddingTop: 0,\r\n                                                paddingBottom: 0\r\n                                            }}>\r\n                                                {(index !== 0) ? <div style={{\r\n                                                    marginBottom: 20,\r\n                                                    height: '1px',\r\n                                                    background: '#dcdcdc'\r\n                                                }}/> : null}\r\n                                                <Div style={{\r\n                                                    alignItems: 'center',\r\n                                                    justifyContent: 'space-between',\r\n                                                    display: 'flex',\r\n                                                    padding: 0\r\n                                                }}>\r\n                                                    <Div style={{\r\n                                                        fontSize: 19,\r\n                                                        color: '#323232',\r\n                                                        fontWeight: 700,\r\n                                                        padding: 0\r\n                                                    }}>\r\n                                                        {subject.time}\r\n                                                    </Div>\r\n                                                    <p style={{\r\n                                                        fontSize: 15,\r\n                                                        color: '#323232',\r\n                                                        margin: 0,\r\n                                                        fontWeight: 500\r\n                                                    }}>\r\n                                                        {subject.type}\r\n                                                    </p>\r\n                                                </Div>\r\n                                                <Div style={{\r\n                                                    fontSize: 18,\r\n                                                    color: '#323232',\r\n                                                    fontWeight: 600,\r\n                                                    paddingLeft: 0,\r\n                                                    paddingRight: 0,\r\n                                                    paddingBottom: 0,\r\n                                                    paddingTop: 10\r\n                                                }}>\r\n                                                    {subject.title}\r\n                                                </Div>\r\n                                                {(subject.teacher !== '') ?\r\n                                                    <Div style={{\r\n                                                        fontSize: 13,\r\n                                                        color: '#323232',\r\n                                                        paddingLeft: 0,\r\n                                                        paddingRight: 0,\r\n                                                        paddingBottom: 0,\r\n                                                        paddingTop: 10\r\n                                                    }}>\r\n                                                        {subject.teacher}\r\n                                                    </Div>\r\n                                                    :\r\n                                                    null\r\n                                                }\r\n                                                <Div style={{\r\n                                                    fontSize: 14,\r\n                                                    color: '#323232',\r\n                                                    fontWeight: 600,\r\n                                                    paddingLeft: 0,\r\n                                                    paddingRight: 0,\r\n                                                    paddingBottom: 20,\r\n                                                    paddingTop: 10\r\n                                                }}>\r\n                                                    {subject.location}\r\n                                                </Div>\r\n                                            </Div>\r\n                                        )\r\n                                    })}\r\n                                </Div>\r\n                            );\r\n                            return (\r\n                                <Div key={index} style={(index !== 0) ? {paddingTop: 0, paddingBottom: 14} : {\r\n                                    paddingTop: 14,\r\n                                    paddingBottom: 14\r\n                                }}>\r\n                                    <Div style={{padding: 0}}>\r\n                                        <Header level=\"secondary\" style={{\r\n                                            background: 'linear-gradient(110deg, #00AEFF, #029ef5)',\r\n                                            color: '#fff',\r\n                                            height: 'auto',\r\n                                            paddingRight: 20,\r\n                                            paddingLeft: 20\r\n                                        }} aside={<h3 style={{margin: 0, color: '#fff'}}>{item.day}</h3>}>\r\n                                            <h3 style={{margin: 0, color: '#fff'}}>{item.data}</h3>\r\n                                        </Header>\r\n                                    </Div>\r\n                                    {item.subjects.map((subject, index) => {\r\n                                        return (\r\n                                            <Div key={index} style={(index === 0) ? {\r\n                                                background: '#fff',\r\n                                                paddingLeft: 20,\r\n                                                paddingRight: 20,\r\n                                                paddingTop: 20,\r\n                                                paddingBottom: 0\r\n                                            } : {\r\n                                                background: '#fff',\r\n                                                paddingLeft: 20,\r\n                                                paddingRight: 20,\r\n                                                paddingTop: 0,\r\n                                                paddingBottom: 0\r\n                                            }}>\r\n                                                {(index !== 0) ? <div style={{\r\n                                                    marginBottom: 20,\r\n                                                    height: '1px',\r\n                                                    background: '#dcdcdc'\r\n                                                }}/> : null}\r\n                                                <Div style={{\r\n                                                    alignItems: 'center',\r\n                                                    justifyContent: 'space-between',\r\n                                                    display: 'flex',\r\n                                                    padding: 0\r\n                                                }}>\r\n                                                    <Div style={{\r\n                                                        fontSize: 19,\r\n                                                        color: '#323232',\r\n                                                        fontWeight: 700,\r\n                                                        padding: 0\r\n                                                    }}>\r\n                                                        {subject.time}\r\n                                                    </Div>\r\n                                                    <p style={{\r\n                                                        fontSize: 15,\r\n                                                        color: '#323232',\r\n                                                        margin: 0,\r\n                                                        fontWeight: 500\r\n                                                    }}>\r\n                                                        {subject.type}\r\n                                                    </p>\r\n                                                </Div>\r\n                                                <Div style={{\r\n                                                    fontSize: 18,\r\n                                                    color: '#323232',\r\n                                                    fontWeight: 600,\r\n                                                    paddingLeft: 0,\r\n                                                    paddingRight: 0,\r\n                                                    paddingBottom: 0,\r\n                                                    paddingTop: 10\r\n                                                }}>\r\n                                                    {subject.title}\r\n                                                </Div>\r\n                                                {(subject.teacher !== '') ?\r\n                                                    <Div style={{\r\n                                                        fontSize: 13,\r\n                                                        color: '#323232',\r\n                                                        paddingLeft: 0,\r\n                                                        paddingRight: 0,\r\n                                                        paddingBottom: 0,\r\n                                                        paddingTop: 10\r\n                                                    }}>\r\n                                                        {subject.teacher}\r\n                                                    </Div>\r\n                                                    :\r\n                                                    null\r\n                                                }\r\n                                                <Div style={{\r\n                                                    fontSize: 14,\r\n                                                    color: '#323232',\r\n                                                    fontWeight: 600,\r\n                                                    paddingLeft: 0,\r\n                                                    paddingRight: 0,\r\n                                                    paddingBottom: 20,\r\n                                                    paddingTop: 10\r\n                                                }}>\r\n                                                    {subject.location}\r\n                                                </Div>\r\n                                            </Div>\r\n                                        )\r\n                                    })}\r\n                                </Div>\r\n                            )\r\n                        })}\r\n                        <Div style={{paddingTop: 0}}>\r\n                            <Tooltip text=\"Это последняя неделя\"\r\n                                     isShown={this.state.showMessage}\r\n                                     onClose={() => this.setState({showMessage: false})}\r\n                                     title=\"Поздравляем\"\r\n                            >\r\n                                <Button style={{background: 'linear-gradient(110deg, #00AEFF, #029ef5)', color: '#fff'}} size=\"xl\" level=\"secondary\"\r\n                                        onClick={async () => {\r\n                                            let info = await this.getWeekNum();\r\n                                            if (info !== null) {\r\n                                                await this.setState({\r\n                                                    currentWeek: {\r\n                                                        text: toString(info.week + 1),\r\n                                                        index: info.week + 1\r\n                                                    }\r\n                                                });\r\n                                                this.getTimeTable();\r\n                                            } else {\r\n                                                this.setState({showMessage: true})\r\n                                            }\r\n                                        }}>\r\n                                    Слудущая неделя\r\n                                </Button>\r\n                            </Tooltip>\r\n                        </Div>\r\n                    </Panel>\r\n                </View>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default reduxConnect(\r\n    state => ({\r\n        store: state,\r\n    }), dispatch => ({\r\n        chooseWeek: (week) => {\r\n            dispatch({type: 'chooseWeek', payload: week});\r\n        },\r\n        chooseGroup: (group) => {\r\n            dispatch({type: 'selectGroup', payload: group});\r\n        },\r\n    })\r\n)(TimeTable);\r\n","import React, {Component} from 'react';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport {reduxConnect} from \"react-redux\";\nimport connect from '@vkontakte/vk-connect';\nimport {firebaseConfig} from \"./config\";\nimport firebase from 'firebase/app';\nimport 'firebase/database';\nimport SelectGroup from './screens/SelectGroup'\nimport TimeTable from './screens/TimeTable'\nimport LoadingScreen from './screens/LoadingScreen'\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            id: null,\n            loading: true,\n        }\n    }\n\n    componentDidMount() {\n        connect.sendPromise(\"VKWebAppGetUserInfo\")\n            .then(data => {\n                this.setState({id: data.id});\n                this.props.chooseId(data.id);\n                return data.id\n            })\n            .then((id) => {\n                firebase.initializeApp(firebaseConfig);\n                let database = firebase.database();\n                database.ref('/' + id).once('value')\n                    .then((snapshot) => {\n                        if (snapshot.val() !== null) {\n                            this.setState({currentGroup: snapshot.val()});\n                            this.props.chooseGroup(snapshot.val());\n                        }\n                    })\n                    .then(() => {\n                        this.setState({loading: false});\n                    });\n            });\n    }\n\n    render() {\n        if (this.state.loading) {\n            return <LoadingScreen/>\n        } else if (this.props.store.group === \"\") {\n            return <SelectGroup/>\n        } else {\n            return <TimeTable/>\n        }\n    }\n}\n\nexport default reduxConnect(\n    state => ({\n        store: state,\n    }),\n    dispatch => ({\n        chooseGroup: (group) => {\n            dispatch({type: 'selectGroup', payload: group});\n        },\n        chooseId: (id) => {\n            dispatch({type: 'selectId', payload: id});\n        },\n    })\n)(App);\n\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport {Provider} from 'react-redux'\nimport reducer from './reducers'\nimport {createStore} from 'redux'\nimport App from './App';\n\nconst store = createStore(reducer);\n\nlet schemeAttribute = document.createAttribute('scheme');\nschemeAttribute.value = 'bright_light';\ndocument.body.attributes.setNamedItem(schemeAttribute);\n\nconnect.send('VKWebAppInit');\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>, document.getElementById('root')\n);\n"],"sourceRoot":""}